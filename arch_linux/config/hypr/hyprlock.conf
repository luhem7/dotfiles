# Hyprlock Configuration - Gruvbox Theme
# ref: https://wiki.hypr.land/Hypr-Ecosystem/hyprlock/

# =============================================================================
# Color Palette (Gruvbox-inspired, matching AGS setup)
# =============================================================================
$font = JetBrainsMono Nerd Font

$dark-bg = rgb(1D2021)
$dark-bg-transparent = rgba(1D2021ee)
$off-focus = rgb(433F3C)
$highlight = rgb(EBDBB2)

$accent-blue = rgb(427F82)
$accent-yellow = rgb(D79921)
$accent-red = rgb(EA6926)
$accent-green = rgb(689D6A)
$accent-orange = rgb(E0944F)

# =============================================================================
# General
# =============================================================================
general {
    hide_cursor = false
}

animations {
    enabled = true
    bezier = smooth, 0.4, 0, 0.2, 1
    animation = fadeIn, 1, 5, smooth
    animation = fadeOut, 1, 5, smooth
    animation = inputFieldDots, 1, 2, smooth
}

# =============================================================================
# Background
# =============================================================================
background {
    monitor =
    path = screenshot
    blur_passes = 4
    blur_size = 6
    noise = 0.02
    contrast = 0.9
    brightness = 0.7
    vibrancy = 0.15
}

# =============================================================================
# Login Container (shape behind input)
# =============================================================================
shape {
    monitor =
    size = 700, 200
    color = $dark-bg-transparent
    rounding = 8
    border_size = 2
    border_color = $off-focus

    position = 0, 0
    halign = center
    valign = center
    zindex = -1
}

# =============================================================================
# User Label
# =============================================================================
label {
    monitor =
    text = cmd[] echo "<span foreground='##EBDBB2'>&gt; </span><span foreground='##427F82'>$USER</span>"
    font_family = $font
    font_size = 18

    position = -250, 40
    halign = center
    valign = center

    shadow_passes = 2
    shadow_size = 3
}

# =============================================================================
# Input Field
# =============================================================================
input-field {
    monitor =
    size = 600, 60
    outline_thickness = 3
    rounding = 8

    outer_color = $accent-blue $accent-green 45deg
    inner_color = $dark-bg
    font_color = $highlight

    check_color = $accent-green
    fail_color = $accent-red
    capslock_color = $accent-yellow
    numlock_color = $accent-orange
    bothlock_color = $accent-red

    fade_on_empty = false
    font_family = $font
    placeholder_text = <i>Enter password...</i>
    fail_text = <b>$PAMFAIL</b>

    dots_size = 0.3
    dots_spacing = 0.3
    dots_center = true

    position = 0, -20
    halign = center
    valign = center
}

# =============================================================================
# Time & Date Display
# =============================================================================
label {
    monitor =
    text = cmd[update:1000] echo -e "<span size='90000' foreground='##EBDBB2'>$(date +'%H:%M')</span>\n<span size='25000' foreground='##D79921'>$(date +'%A, %d %B %Y')</span>"
    font_family = $font
    text_align = right

    position = -30, -30
    halign = right
    valign = top

    shadow_passes = 2
    shadow_size = 4
}
